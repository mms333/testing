---
title: "pivot_learning"
author: "Miquel Murillo Saez"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readxl)
library(here)
library(skimr)
library(kableExtra)
## R packages needed
```

```{r pivot_object_lobsters}
lobsters <- read_xlsx(here("data", "lobsters.xlsx"), skip = 4)
```

```{r data_summary}

skimr::skim(lobsters)
## skimr:: is reminder that skim() belongs to skimr package
```

```{r pivot_table_learning}
lobsters %>%
  group_by(year) %>%
  summarise(count_by_year = n())
```

```{r pivot_table_group_by_more_than_one_variable}
siteyear_summary <- lobsters %>%
  group_by(site, year) %>%
  summarise(count_by_siteyear = n(),
            mean_size_mm = mean(size_mm, na.rm=TRUE),
            sd_size_mm = sd(size_mm, na.rm=TRUE))
## na.rm=TRUE fa que es salti les celÂ·les que son NA
```

```{r table_formating}
siteyear_summary %>%
  kable()
```

## 6.4.6 Activity